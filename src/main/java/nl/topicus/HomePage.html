<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">
	<head>
		<meta charset="utf-8" />
		<title>Apache Wicket Quickstart</title>
		<link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:regular,bold' rel='stylesheet' type='text/css' />
		<link rel="stylesheet" href="style.css" type="text/css" media="screen" title="Stylesheet" />
	</head>
	<body>
		<form wicket:id="form">
			<input type="number" wicket:id="aantal">
			<button wicket:id="insert">INSERT</button>
			<button wicket:id="fillCache">FILL CACHE</button>
			<button wicket:id="wipeCache">WIPE CACHE</button>
			<button wicket:id="wipeDB">WIPE DB</button>
			<button wicket:id="new">New MyEntity</button>
			<button wicket:id="update">Update last MyEntity</button>
			
			<ul>
				<li><b>INSERT</b> Inserts the specified number of entities, using JPA, entities will be cached on this node.</li>
				<li><b>FILL CACHE</b> Read all entities from the database and cache them on this node.</li>
				<li><b>WIPE CACHE</b> Execute 'DELETE FROM myentity WHERE id=-1', clearing the cache without changing the database.</li>
				<li><b>WIPE DB</b> Execute 'DELETE FROM myentity', clearing the cache and the database.</li>
			</ul>
			<br>
			Read value: <input type="number" wicket:id="value"> Use query cache: <input type="checkbox" wicket:id="useCache">
			<table>
				<tr><th>ID</th><th>VERSION</th><th>VALUE</th></tr>
				<tr wicket:id="list">
					<td wicket:id="id"></td>
					<td wicket:id="version"></td>
					<td wicket:id="value"></td>
					<td><button wicket:id="inc">INC</button></td>
					<td><button wicket:id="update">UPDATE</button></td>
					<td><button wicket:id="read">READ</button></td>
					<td><button wicket:id="modifyRollback">MODIFY AND ROLLBACK</button></td>
				</tr>
			</table>
			<ul>
				<li><b>INC</b> Reads the entity using EntityManager.find and increments its value.</li>
				<li><b>UPDATE</b> Executes a bulk update, setting the value to a random int, should invalidate the entire cache.</li>
				<li><b>READ</b> Reads the entity using EntityManager.find and display the value in the field above.</li>
			</ul>
		</form>
	</body>
</html>
